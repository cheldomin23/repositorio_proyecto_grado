"use strict";var express=require("express"),path=require("path"),vhost=require("vhost"),cors=require("cors"),helmet=require("helmet"),compression=require("compression");module.exports=function(e){var s=e.apiRouter,r=express.Router();return r.use("/public",express.static(path.join(__dirname,"../../app/public"))),r.use(cors()).use(express.json()).use(helmet()).use(compression()),r.use(vhost("api.*",s)),r.get("/*",function(e,s){s.sendFile(path.join(__dirname,"../../app/public/index.html"))}),r};